!function(e){"use strict";function n(e){return function(n,t){var o=i.i18n[e].indexOf(t.charAt(0).toUpperCase()+t.substr(1).toLowerCase());~o&&(n.month=o)}}function t(e,n){for(e=String(e),n=n||2;e.length<n;)e="0"+e;return e}function o(e,n){for(var t=[],o=0,a=e.length;a>o;o++)t.push(e[o].substr(0,n));return t}function a(e){return e+["th","st","nd","rd"][e%10>3?0:(e-e%10!==10)*e%10]}var r,u,i={},s=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,d=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],m=["January","February","March","April","May","June","July","August","September","October","November","December"],f=["am","pm"],h=/\d\d?/,c=/\d{3}/,l=/\d{4}/,M=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Y=function(){},D={D:[h,function(e,n){e.day=n}],M:[h,function(e,n){e.month=n-1}],YY:[h,function(e,n){var t=new Date,o=+(""+t.getFullYear()).substr(0,2);e.year=""+(n>68?o-1:o)+n}],h:[h,function(e,n){e.hour=n}],m:[h,function(e,n){e.minute=n}],s:[h,function(e,n){e.second=n}],YYYY:[l,function(e,n){e.year=n}],S:[/\d/,function(e,n){e.millisecond=100*n}],SS:[/\d{2}/,function(e,n){e.millisecond=10*n}],SSS:[c,function(e,n){e.millisecond=n}],d:[h,Y],ddd:[M,Y],MMM:[M,n("monthNamesShort")],MMMM:[M,n("monthNames")],a:[M,function(e,n){var t=n.toLowerCase();t===f[0]?e.isPm=!1:t===f[1]&&(e.isPm=!0)}],ZZ:[/[\+\-]\d\d:?\d\d/,function(e,n){var t,o=(n+"").match(/([\+\-]|\d\d)/gi);o&&(t=+(60*o[1])+parseInt(o[2],10),e.timezoneOffset="+"===o[0]?t:-t)}]};D.dd=D.d,D.dddd=D.ddd,D.Do=D.DD=D.D,D.mm=D.m,D.hh=D.H=D.HH=D.h,D.MM=D.M,D.ss=D.s,D.A=D.a,u=o(m,3),r=o(d,3),i.i18n={dayNamesShort:r,dayNames:d,monthNamesShort:u,monthNames:m,amPm:f,DoFn:a},i.masks={"default":"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},i.format=function(e,n){if("number"==typeof e&&(e=new Date(e)),!e||"object"!=typeof e&&"function"!=typeof e.getDate)throw new Error("Invalid Date in fecha.format");n=i.masks[n]||n||i.masks["default"];var o=e.getDate(),a=e.getDay(),r=e.getMonth(),u=e.getFullYear(),d=e.getHours(),m=e.getMinutes(),f=e.getSeconds(),h=e.getMilliseconds(),c=e.getTimezoneOffset(),l={D:o,DD:t(o),Do:i.i18n.DoFn(o),d:a,dd:t(a),ddd:i.i18n.dayNamesShort[a],dddd:i.i18n.dayNames[a],M:r+1,MM:t(r+1),MMM:i.i18n.monthNamesShort[r],MMMM:i.i18n.monthNames[r],YY:String(u).slice(2),YYYY:u,h:d%12||12,hh:t(d%12||12),H:d,HH:t(d),m:m,mm:t(m),s:f,ss:t(f),S:Math.round(h/100),SS:t(Math.round(h/10),2),SSS:t(h,3),a:12>d?i.i18n.amPm[0]:i.i18n.amPm[1],A:12>d?i.i18n.amPm[0].toUpperCase():i.i18n.amPm[1].toUpperCase(),ZZ:(c>0?"-":"+")+t(100*Math.floor(Math.abs(c)/60)+Math.abs(c)%60,4)};return n.replace(s,function(e){return e in l?l[e]:e.slice(1,e.length-1)})},i.parse=function(e,n){var t,o,a,r,u,d;if("string"!=typeof n)throw new Error("Invalid format in fecha.parse");return n=i.masks[n]||n,e.length>1e3?!1:(t=!0,o={},n.replace(s,function(n){return D[n]&&(u=D[n],d=e.search(u[0]),~d?e.replace(u[0],function(n){return u[1](o,n),e=e.substr(d+n.length),n}):t=!1),D[n]?"":n.slice(1,n.length-1)}),t?(a=new Date,o.isPm===!0&&null!=o.hour&&12!==+o.hour?o.hour=+o.hour+12:o.isPm===!1&&12===+o.hour&&(o.hour=0),null!=o.timezoneOffset?(o.minute=+(o.minute||0)-+o.timezoneOffset,r=new Date(Date.UTC(o.year||a.getFullYear(),o.month||0,o.day||1,o.hour||0,o.minute||0,o.second||0,o.millisecond||0))):r=new Date(o.year||a.getFullYear(),o.month||0,o.day||1,o.hour||0,o.minute||0,o.second||0,o.millisecond||0),r):!1)},"undefined"!=typeof module&&module.exports?module.exports=i:"function"==typeof define&&define.amd?define(function(){return i}):e.fecha=i}(this);